services:
  jarvis-agent:
    build: .
    restart: unless-stopped
    mem_limit: 2g
    volumes:
      # Mount data directory (signal-cli registration, sessions, etc.)
      - ./data:/home/jarvis/data
      # Mount Claude config from host for session persistence
      - ~/.claude:/home/jarvis/.claude
      # Persistent workspace for agent files
      - jarvis-workspace:/home/jarvis/workspace
    environment:
      # See specs/1-agent-foundation.md for full environment variable documentation
      - ANTHROPIC_API_KEY
      - ANTHROPIC_MODEL
      - AGENT_NAME
      - AGENT_PHONE_NUMBER

volumes:
  jarvis-workspace:
